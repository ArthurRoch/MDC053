1. Elabore um DER para cada estudo de caso descrito a seguir.

a) Uma locadora precisa automatizar suas tarefas relativas aos clientes, filmes e aluguéis. Esta locadora necessita também emitir recibos como comprovantes fiscais para seus clientes à cada filme alugado. No cadastro de novos clientes são pedidos dados como nome completo, endereço, telefone, identidade e CPF. Um cliente pode ter dependentes, dos quais são armazenados os nomes e o grau de relacionamento (amigo, irmão, cônjuge, pais, etc). O dependente tem os mesmos direitos do titular, mas no caso de um extravio o responsável será sempre o titular. Quando um filme é alugado por um cliente (ou por um dependente) é armazenado o código e título do filme, data de locação, valor a ser pago e status de pagamento. Na devolução é dada a baixa na locação, sendo armazenado a data de devolução e o valor pago recalculado. Os filmes são organizados em armários de acordo com o seu gênero (infantil, drama, suspense, terror, sexo, etc). Os filmes são também classificados de acordo com o preço cobrado pelo aluguel, que pode ser: acervo, lançamento e promoção. Cada um desses tipos têm valores de aluguel diferentes. Nesta locadora existe também o serviço de reservas de filmes. Neste caso, um filme disponível só é alugado se não tiver uma reserva para o dia em questão.

b) Um museu de arte pretende controlar seu acervo através de um sistema de software. O museu tem uma coleção de objetos de arte. Cada um deles tem um identificador único, um artista (se souber), um ano (quando este foi criado, se souber), um título e uma descrição. Os objetos de arte são categorizados de muitas formas, como discutido a seguir. Objetos de arte são categorizados baseado em seus tipos. Existem 3 tipos: Pinturas, Esculturas e Bustos. Adicionalmente tem-se outro tipo chamado outros para acomodar objetos que não caiam nos três tipos principais. Uma pintura tem um tipo de pintura (óleo, água, etc), material que foi pintado (papel, canvas, madeira, etc) e estilo (moderno, abstrato, etc). Uma escultura tem o material do qual foi criada (madeira, pedra, etc), altura, peso e estilo. Um busto tem o material do qual foi criado (madeira, bronze, pedra, etc), altura, peso e pessoa representada. Um objeto de arte da categoria outros tem tipo (impresso, foto, etc) e estilo. Objetos de arte são também categorizados em (i) coleções permanentes cujo dono é o próprio museu e que tem informações de data de aquisição, se está sendo mostrada ou armazenada e custo; e (ii) empréstimo, que tem informação da coleção (da qual foi emprestada) , data de empréstimo e data de retorno. Objetos de arte também têm informações descrevendo seu país de origem e época (renascência, moderna, antiga, etc). O museu também mantém informações sobre os artistas, se souber: nome, data de nascimento, data de morte (se não estiver vivo), país de origem, época, estilo principal e descrição. O nome é assumido ser único. Diferentes exibições ocorrem, cada uma tendo um nome, data de início, data de término e está relacionada com todas as obras de arte que estão sendo mostradas durante a exibição. Informação é mantida com outras coleções com as quais o museu interage, incluindo nome (único), tipo (museu, pessoal, etc), descrição, endereço, telefone e pessoa de contato.

c) Uma fábrica de software foi contratada para desenvolver um novo sistema bancário. De acordo com o seu cliente, um banco pode ter múltiplas agências e cada agência pode ter vários clientes. As agências possuem um identificador único e endereço. Clientes estão cadastrados em agências, mas poderão sacar em qualquer agência do banco. Os clientes podem possuir uma conta corrente ou conta poupança. Clientes que possuam conta corrente podem aplicar seu dinheiro no CDB, RDB ou poupança, enquanto que os clientes que só possuam conta de poupança só poderão aplicar na poupança. As contas correntes dos clientes podem ser classificados em comum e especial. Os clientes de contas especiais terão um limite adicional ao seu saldo para saque. É desejável manter um histórico de cheques sem fundo. Deve ser mantido o saldo de cada conta e/ou aplicação. Clientes deverão ser cadastrados com as seguintes informações: CPF, RG, nome, endereços (residencial, comercial), telefones (residencial, comercial e celular), três pessoas de referência, outros bancos onde teve/tem conta e cartão de credito. O banco oferece um serviço de empréstimo de dinheiro para todos os clientes. Um cliente só pode ter um empréstimo por vez. Cada empréstimo tem que ser aprovado e tem um código único. Para ser aprovado, o cliente tem que apresentar um avalista, que deve ser um outro cliente do banco, para que este se responsabilize caso o primeiro cliente não possa mais pagar o empréstimo. Uma agência pode ter no máximo 1000 empréstimos. Um empréstimo tem como atributos o valor emprestado, quantidade de parcelas, valor de cada parcela e juros mensal.

d) Um coordenador de pós-graduação lato sensu necessita de um sistema de software para coordenar seus vários cursos oferecidos pela faculdade a qual trabalha. Os alunos são matriculados em cursos. Cada curso de pos lato é composto por vários módulos (disciplinas) e estes têm um código, nome e carga-horária. Quando um módulo é ministrado tem-se que armazenar quem foi o professor que o ministrou, as notas e a freqüência obtida pelos alunos. Cada professor tem um registro único no SIAPE. Os alunos têm uma matrícula única. Cada módulo tem que ter o nome e a respectiva ementa. Deve ser realizado um controle dos pagamentos dos alunos. Cada curso tem um custo por aluno, onde este aluno deverá pagar este custo dividido em um conjunto de mensalidades, segundo o seguinte critério: 1 mensalidade (cota única) com 20% de desconto; 3 mensalidades com desconto de 15%; 6 mensalidades com desconto de 10%; ou 12 mensalidades sem desconto. Esta escolha é feita por cada aluno.

e) Uma empresa de estacionamento deseja criar um sistema para controlar a utilização de suas vagas. Uma vaga contém um número identificador e um status (ocupada ou livre). Um cliente avulso ao chegar no estacionamento deixa o carro para o manobrista e recebe um comprovante do estacionamento que está registrando a placa do carro, marca, cor e hora de chegada e o número da vaga. Quando o cliente volta para receber o carro é registrado a hora de saída e calculado o valor do estacionamento. Já um cliente mensalista simplesmente é armazenado a hora de saída e o nome, já que paga o valor por mês.

f) Uma administradora precisa gerenciar as assembléias realizadas nos condomínios os quais ela administra. Cada assembléia possui uma data de realização, o nome do condomínio, número de moradores, endereço do condomínio, número de participantes e um status (aberta, cancelada, fechada). Numa assembléia são abordados vários assuntos que são postos em votação. Cada assunto é armazenado os votos a favor, contra e de abstenção. Se não for atingindo o número mínimo de participantes a assembléia não é cancelada e uma nova deverá ser marcada. Toda assembléia possui uma ata onde são registrados as observações e o nome dos moradores que falaram durante a sua realização.

g) Uma empresa de produtos farmacêuticos deseja criar um sistema para captar pedidos de compra dos seus clientes (farmácias e drogarias). Um cliente possui uma ficha contendo nome, cgc, endereço, cidade, estado, cep, telefone e pessoa contato. É informado na solicitação do pedido o nome do cliente, data do pedido, nome do medicamento, quantidade e preço. O valor total do pedido é calculado ao final da escolha dos medicamentos. O medicamento pode ser genérico (princípio ativo, data de validade, nome do laboratório) ou de marca (nome do medicamento, data de validade, nome do laboratório, cor da tarja).

h) Um hotel deseja criar um sistema para controlar a ocupação de quartos devido a grande procura no período de férias. Um hóspede informa seus dados (nome, CPF, data de nascimento e telefone) ao realizar o check-in (data de entrada). Ele pode ocupar um ou mais quartos do hotel, dependendo da sua preferência. Um quarto pode ser simples (uma a três camas de solteiro, toalete com ou sem banheira, tv a cabo ou normal), casal (uma cama de casal, toalete com ou sem banheira, tv a cabo ou normal, com ou sem internet) ou especial (uma cama de casal, toalete com hidromassagem, tv a cabo, internet, sala de trabalho). Um hóspede pode solicitar serviços de cozinha, cabeleleiro, lavanderia e alfaiate, além do que é consumido no frigobar dentro do quarto. No check-out (data de saída), a conta do hóspede é encerrada, calculando o valor total das diárias mais os serviços utilizados.
